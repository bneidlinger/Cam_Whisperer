# PlatoniCam Backend Environment Configuration
# Copy this file to .env and fill in your values

# ---- Application ----
APP_ENV=development  # development, staging, production
APP_HOST=0.0.0.0
APP_PORT=8000
DEBUG=true

# ---- Claude AI Configuration ----
ANTHROPIC_API_KEY=
CLAUDE_MODEL=claude-sonnet-4-5-20250929  # Claude 4.5 Sonnet with vision
CLAUDE_MAX_TOKENS=4096
CLAUDE_TEMPERATURE=0.7

# ---- Database ----
# For local development (SQLite)
DATABASE_URL=sqlite:///./platonicam.db

# For production (PostgreSQL) - uncomment and configure:
# DATABASE_URL=postgresql://user:password@host:port/dbname

# ---- File Storage ----
UPLOAD_DIR=./uploads
MAX_UPLOAD_SIZE_MB=10
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# ---- CORS Settings ----
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,file://
CORS_ALLOW_CREDENTIALS=true

# ---- Camera Integration ----
ONVIF_TIMEOUT_SECONDS=10
CAMERA_SNAPSHOT_TIMEOUT_SECONDS=15

# ---- Security (Future) ----
SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ---- Monitoring ----
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FORMAT=json  # json or text

# ---- AI Optimization Settings ----
AI_OPTIMIZATION_TIMEOUT_SECONDS=30
FALLBACK_TO_HEURISTIC=true  # Use heuristic engine if AI fails
CONFIDENCE_THRESHOLD=0.6

# ---- Rate Limiting (Future) ----
MAX_OPTIMIZATIONS_PER_HOUR=100
MAX_CAMERAS_PER_SITE=500

# ---- WebRTC Configuration (Phase 3) ----
WEBRTC_ENABLED=true
WEBRTC_SIGNALING_TIMEOUT_SECONDS=30
WEBRTC_ICE_TIMEOUT_SECONDS=10

# ---- TURN Server (for NAT traversal) ----
# Required for WebRTC streaming through firewalls/NAT
# Options: Self-hosted (Coturn), Twilio, Xirsys, Cloudflare
TURN_SERVER_URL=
TURN_SERVER_URLS=
TURN_USERNAME=
TURN_CREDENTIAL=
TURN_CREDENTIAL_TYPE=password

# ---- STUN Servers (free, for direct P2P) ----
STUN_SERVER_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302
